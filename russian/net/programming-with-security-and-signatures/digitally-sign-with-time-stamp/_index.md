---
title: Цифровая подпись с отметкой времени в файле PDF
linktitle: Цифровая подпись с отметкой времени в файле PDF
second_title: Aspose.PDF для справочника API .NET
description: Узнайте, как выполнить цифровую подпись с отметкой времени в файле PDF с помощью Aspose.PDF для .NET.
type: docs
weight: 50
url: /ru/net/programming-with-security-and-signatures/digitally-sign-with-time-stamp/
---
В этом руководстве мы познакомим вас с процессом цифровой подписи PDF-файла с отметкой времени с использованием Aspose.PDF для .NET. Цифровая подпись с отметкой времени гарантирует подлинность и целостность документа за счет добавления электронного отпечатка пальца с отметкой времени.

## Шаг 1: Предпосылки

Прежде чем начать, убедитесь, что у вас есть следующие предварительные условия:

- Базовые знания языка программирования С#
- Установка Visual Studio на ваш компьютер
- Установлена библиотека Aspose.PDF для .NET

## Шаг 2: Настройка среды

Чтобы приступить к работе, выполните следующие действия, чтобы настроить среду разработки:

1. Откройте Visual Studio и создайте новый проект C#.
2. Импортируйте необходимые пространства имен в файл кода:

```csharp
using Aspose.Pdf;
using Aspose.Pdf.Forms;
```

## Шаг 3: Цифровая подпись с отметкой времени

Первым шагом является выполнение цифровой подписи с отметкой времени в файле PDF. В предоставленном коде показано, как получить эту подпись с помощью Aspose.PDF для .NET.

```csharp
string dataDir = "YOUR DOCUMENTS DIRECTORY";
string pfxFile = "";
using (Document document = new Document(dataDir + @"DigitallySign.pdf"))
{
     using (PdfFileSignature signature = new PdfFileSignature(document))
     {
         PKCS7 pkcs = new PKCS7(pfxFile, "pfx_password");
         TimestampSettings timestampSettings = new TimestampSettings("https:\\your_timestamp_settings", "user:password");
         pkcs. TimestampSettings = timestampSettings;
         System.Drawing.Rectangle rect = new System.Drawing.Rectangle(100, 100, 200, 100);
         signature.Sign(1, "Reason for signing", "Contact", "Location", true, rect, pkcs);
         signature.Save(dataDir + "DigitallySignWithTimeStamp_out.pdf");
     }
}
```

Этот код загружает файл PDF, создает цифровую подпись с отметкой времени, используя файл PFX (закрытый ключ) и указанные параметры отметки времени. Затем подпись добавляется в файл PDF и сохраняется с суффиксом "_вне".

### Пример исходного кода для цифровой подписи с отметкой времени с использованием Aspose.PDF для .NET 
```csharp
// Путь к каталогу документов.
string dataDir = "YOUR DOCUMENTS DIRECTORY";
string pfxFile = "";
using (Document document = new Document(dataDir + @"DigitallySign.pdf"))
{
	using (PdfFileSignature signature = new PdfFileSignature(document))
	{
		PKCS7 pkcs = new PKCS7(pfxFile, "pfx_password");
		TimestampSettings timestampSettings = new TimestampSettings("https:\\your_timestamp_settings", "user:password"); // Пользователь/пароль можно не указывать
		pkcs.TimestampSettings = timestampSettings;
		System.Drawing.Rectangle rect = new System.Drawing.Rectangle(100, 100, 200, 100);
		// Создайте любой из трех типов подписи
		signature.Sign(1, "Signature Reason", "Contact", "Location", true, rect, pkcs);
		// Сохранить выходной PDF-файл
		signature.Save(dataDir + "DigitallySignWithTimeStamp_out.pdf");
	}
}
```

## Заключение

Поздравляем! Вы успешно выполнили цифровую подпись с отметкой времени в файле PDF, используя Aspose.PDF для .NET. В этом руководстве описан пошаговый процесс от создания подписи до сохранения обновленного PDF-файла. Теперь вы можете использовать эту функцию для добавления цифровых подписей с отметкой времени в файлы PDF.

### Часто задаваемые вопросы по цифровой подписи с отметкой времени в файле PDF

#### В: Какова цель цифровой подписи с отметкой времени?

О: Цифровая подпись с отметкой времени добавляет к файлу PDF электронный отпечаток пальца с отметкой времени, гарантируя подлинность и целостность документа в определенный момент времени.

#### В: Какие предварительные условия необходимы для запуска этого руководства?

О: Прежде чем начать, убедитесь, что у вас есть базовые знания языка программирования C#, установлена Visual Studio и установлена библиотека Aspose.PDF для .NET.

#### Q: Как настроить среду разработки?

О. Следуйте приведенным инструкциям, чтобы настроить среду разработки, включая создание нового проекта C# в Visual Studio и импорт необходимых пространств имен.

#### В: Как добавить цифровую подпись с отметкой времени в PDF-файл?

О. В предоставленном примере кода показано, как загрузить файл PDF, создать цифровую подпись с отметкой времени с помощью файла PFX (закрытый ключ) и заданных параметров отметки времени, добавить подпись в файл PDF и сохранить обновленный файл.

#### Вопрос. Что такое файл PFX и почему он используется в примере?

A: Файл PFX (Personal Exchange Format) содержит закрытый ключ и сертификат. Он используется здесь для предоставления криптографических функций для цифровых подписей. Убедитесь, что вы заменили заполнитель своим файлом PFX и паролем.

#### Q: Что такое TimestampSettings?

A: TimestampSettings определяют настройки сервера временных меток, используемого для добавления электронной временной метки в подпись. Он включает URL-адрес сервера меток времени и дополнительные учетные данные пользователя.

#### В: Могу ли я использовать сервер временных меток, отличный от указанного в примере?
 О: Да, вы можете использовать любой совместимый сервер меток времени. Замените URL-адрес и, при необходимости, укажите соответствующие учетные данные пользователя в`TimestampSettings` объект.

#### В: Какова цель указания прямоугольника подписи?

О. Прямоугольник подписи определяет положение и размеры цифровой подписи на странице PDF. Отрегулируйте эти значения, чтобы расположить подпись по желанию.

#### В: Что произойдет, если сервер меток времени будет недоступен во время подписания?

О: Если сервер меток времени недоступен во время подписания, процесс может завершиться ошибкой или занять больше времени. Убедитесь, что ваш сервер меток времени надежен и доступен.

#### В: Как я могу проверить наличие метки времени в подписанном PDF-файле?

 О: Вы можете изучить подписанный PDF-файл, используя предоставленный образец кода.`TimestampSettings` которые вы использовали во время подписания, должны быть доступны в деталях подписи.

#### Вопрос. Имеют ли юридическую силу цифровые подписи с отметками времени?

О: Цифровые подписи с отметками времени имеют юридическую силу во многих юрисдикциях и часто считаются более надежными, чем простые цифровые подписи. Проконсультируйтесь с экспертами по правовым вопросам в вашей юрисдикции для получения информации о конкретных правилах.

#### Вопрос. Можно ли добавить в PDF-файл несколько цифровых подписей с отметками времени?

О: Да, вы можете добавить несколько цифровых подписей с отметками времени в файл PDF, вызвав процесс создания подписи несколько раз. Каждая подпись будет иметь свою временную метку.